<ion-header>
  <ion-navbar color="fondo">
    <ion-title>
      Registrarse
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <form [formGroup]="myForm" (ngSubmit)="saveData()" novalidate>
  <ion-list>
    <ion-item>

    <ion-label color="primary" floating>Email</ion-label>
    <ion-input type="email" formControlName="email" #email></ion-input>
  </ion-item>
<ion-item *ngIf="myForm.get('email').errors && myForm.get('email').dirty">
      <p  color="danger" *ngIf="myForm.get('email').hasError('required')">El email es obligatorio</p>
      <p  color="danger" *ngIf="myForm.get('email').hasError('pattern')">Eso no es un email</p>
    </ion-item>
  <ion-item>
    <ion-label color="primary"  floating>Contrase単a</ion-label>
    <ion-input type="password" formControlName="password" #pass></ion-input>
  </ion-item>
    <ion-item *ngIf="myForm.get('password').errors && myForm.get('password').dirty">
      <p   color="danger"  *ngIf="myForm.get('password').hasError('required')">La contrase単a es obligatoria</p>
      <p  color="danger" *ngIf="myForm.get('password').hasError('pattern')">Esta contrase単a no tiene la suficiente fuerza</p>
    </ion-item>

  <ion-item>
    <ion-label color="primary"  floating>Usuario</ion-label>
    <ion-input type="text" max-length="20" formControlName="name" #nom></ion-input>
  </ion-item>
  <ion-item *ngIf="myForm.get('name').errors && myForm.get('name').dirty">
      <p  color="danger" *ngIf="myForm.get('name').hasError('required')">El nombre es obligatorio</p>
    </ion-item>
  <ion-item>
    <ion-label color="primary" floating>Edad</ion-label>
    <ion-input type="number" pattern="^([0-9][0-9]?|)$" maxlength="2" formControlName="edad" #edad></ion-input>
  </ion-item>
   <ion-item *ngIf="myForm.get('edad').errors && myForm.get('edad').dirty">
      <p color="danger" *ngIf="myForm.get('edad').hasError('required')">La edad es obligatorio</p>
      <p  color="danger" *ngIf="myForm.get('edad').hasError('pattern')">La edad no puede ser mas de 100 a単os</p>
    </ion-item>
  <br>
  <button ion-button round type="submit" (click)="Insert(nom.value,email.value,pass.value,edad.value)" [disabled]="!myForm.valid" class="center">Registrarse</button>
  <br>
  <button ion-button round type="reset"  class="center">Reiniciar</button>
  </ion-list>
   <span>{{responseMessage}}</span>

</form>
<br>
<ion-item-sliding *ngFor="let member of members">
      <ion-item (non-click)="Insert(member)">
        <h2 class="center" maxlength="10" color="yellow">{{member.paco}}</h2>
      </ion-item>
    </ion-item-sliding>
  
      </ion-content>
